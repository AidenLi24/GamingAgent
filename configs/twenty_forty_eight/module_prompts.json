{
    "memory_module": {
        "prompt": "Please analyze the following 2048 game states and actions to generate a brief reflection:\n\nPrevious Game State:\n{previous_state}\n\nPrevious Action: {previous_action}\n\nCurrent Game State:\n{current_perception}\n\nLast Action: {last_action}\n\nFocus your reflection on:\n1. How the game state changed after the last action\n2. Whether the action was effective for the situation\n3. Patterns or issues to be aware of\n4. Any strategic insights for future actions\n\nKeep your reflection under 100 words and focus only on the most important insights.",
        "system_prompt": "You are an analytical assistant for a 2048 AI agent. Your task is to generate a brief, insightful reflection on the game state changes and the effectiveness of recent actions. Focus on strategic insights and patterns that would help the agent make better decisions. Keep your reflections short, precise, and actionable."
    },
    "reasoning_module": {
        "prompt": "2048 Game Quick Guide:\nPrimary Goal: Combine like tiles to create tiles with higher values.\nUltimate Goal: Create a tile with the value 2048 or higher.\n\nGame Mechanics:\n- The game is played on a 4x4 grid.\n- Each move (up, down, left, right) shifts all tiles in that direction.\n- Tiles with the same value that collide during a move combine into a single tile with twice the value.\n- After each move, a new tile (2 or 4) appears in a random empty cell.\n- The game ends when there are no valid moves left.\n\nKey Strategies:\n1. Build a stable structure - Keep your highest value tiles in a corner.\n2. Maintain a clear path - Always have a direction where you can combine tiles.\n3. Chain reactions - Set up sequences of merges that can happen in a single move.\n4. Look ahead - Think about the consequences of your moves 2-3 steps ahead.\n5. Building patterns - Common patterns include:\n   - Snake/Zig-zag pattern: Arrange tiles in decreasing order in a zigzag.\n   - Corner anchoring: Keep the highest tile in a corner and build around it.\n\nAvoid:\n- Getting high-value tiles stuck in the middle of the board\n- Creating scattered small values that block potential merges\n- Making moves that could lead to grid lock\n\nYour response format should contain:\n1. thought: [Your reasoning about the game state and planned action]\n2. move: [move]\n\nExample responses:\n- thought: I see several opportunities to merge tiles. Moving right would combine the two 4s in row 2, creating an 8. This also maintains my highest tiles on the right edge.\n  move: right\n\n- thought: The board is getting crowded. Moving up would consolidate several tiles and create a clear path at the bottom for new tiles.\n  move: up\n\n- thought: I need to maintain my corner strategy. Moving down would keep my 64 and 32 tiles anchored in the bottom-right corner and potentially create merge opportunities.\n  move: down\n\nFocus on making strategic decisions that maximize your score and maintain a well-organized board.\n\nI'll provide both perception data and a visual board image to help you decide the best move.\n\nPERCEPTION DATA:\n{current_perception}\n\nMEMORY CONTEXT:\n{memory_summary}\n\nThe board image is also provided for visual reference. Please analyze both the perception data and the board image to determine the best move.\n\nBased on this combined information, what move should be taken next?",
        "system_prompt": "You are an intelligent AI player playing the 2048 game. Your goal is to make strategic moves to combine tiles and reach the highest possible tile value.\n\nIMPORTANT: You MUST format your response using EXACTLY these lines:\nthought: [Your reasoning about the game state]\nmove: [move]\n\nWhere [move] must be one of: \"up\", \"down\", \"left\", or \"right\".\nDo not include # or any other prefix. Start directly with \"thought:\" followed by your analysis."
    },
    "base_module": {
        "prompt": "2048 Game Quick Guide:\nPrimary Goal: Combine like tiles to create tiles with higher values.\nUltimate Goal: Create a tile with the value 2048 or higher.\n\nGame Mechanics:\n- The game is played on a 4x4 grid.\n- Each move (up, down, left, right) shifts all tiles in that direction.\n- Tiles with the same value that collide during a move combine into a single tile with twice the value.\n- After each move, a new tile (2 or 4) appears in a random empty cell.\n- The game ends when there are no valid moves left.\n\nAction Space:\nYou must select one of these 4 moves:\n- up: Shift all tiles upward\n- down: Shift all tiles downward\n- left: Shift all tiles to the left\n- right: Shift all tiles to the right\n\nKey Strategies:\n1. Build a stable structure - Keep your highest value tiles in a corner.\n2. Maintain a clear path - Always have a direction where you can combine tiles.\n3. Chain reactions - Set up sequences of merges that can happen in a single move.\n4. Look ahead - Think about the consequences of your moves 2-3 steps ahead.\n5. Building patterns - Common patterns include:\n   - Snake/Zig-zag pattern: Arrange tiles in decreasing order in a zigzag.\n   - Corner anchoring: Keep the highest tile in a corner and build around it.\n\nAvoid:\n- Getting high-value tiles stuck in the middle of the board\n- Creating scattered small values that block potential merges\n- Making moves that could lead to grid lock\n\nYour response format should contain:\n1. thought: [Your reasoning about the game state]\n2. move: [move]\n\nExample responses:\n- thought: I see several opportunities to merge tiles. Moving right would combine the two 4s in row 2, creating an 8. This also maintains my highest tiles on the right edge.\n  move: right\n\n- thought: The board is getting crowded. Moving up would consolidate several tiles and create a clear path at the bottom for new tiles.\n  move: up\n\n- thought: I need to maintain my corner strategy. Moving down would keep my 64 and 32 tiles anchored in the bottom-right corner and potentially create merge opportunities.\n  move: down",
        "system_prompt": "You are an intelligent AI player playing the 2048 game. Your goal is to make strategic moves to combine tiles and reach the highest possible tile value.\n\nIMPORTANT: You MUST format your response using EXACTLY these lines:\nthought: [Your reasoning about the game state]\nmove: [move]\n\nWhere [move] must be one of: \"up\", \"down\", \"left\", or \"right\".\nDo not include # or any other prefix. Start directly with \"thought:\" followed by your analysis."
    }
}